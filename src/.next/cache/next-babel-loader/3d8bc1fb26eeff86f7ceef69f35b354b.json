{"ast":null,"code":"import _last from \"lodash/last\";\nimport produce from 'immer';\n\n// Nhận vào trạng thái hiện tại của data structure\n// và operation tương ứng. Trả về trạng thái mới\nconst transformStackModel = (currentModel, operation, payload) => {\n  switch (operation) {\n    case 'push':\n      {\n        const [itemToPush] = payload;\n        return produce(currentModel, draft => {\n          draft.push(itemToPush);\n        });\n      }\n\n    case 'pop':\n      {\n        return produce(currentModel, draft => {\n          let lastItem = _last(draft.filter(({\n            visible\n          }) => !!visible));\n\n          if (lastItem) lastItem.visible = false;\n        });\n      }\n\n    default:\n      return currentModel;\n  }\n};\n\nexport default transformStackModel;","map":null,"metadata":{},"sourceType":"module"}