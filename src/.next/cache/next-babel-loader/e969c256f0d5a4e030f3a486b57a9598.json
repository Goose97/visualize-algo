{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _last from \"lodash/last\";\nimport produce from 'immer';\n\n// Nhận vào trạng thái hiện tại của data structure\n// và operation tương ứng. Trả về trạng thái mới\nvar transformStackModel = function transformStackModel(currentModel, operation, payload) {\n  switch (operation) {\n    case 'push':\n      {\n        var _payload = _slicedToArray(payload, 1),\n            itemToPush = _payload[0];\n\n        return produce(currentModel, function (draft) {\n          draft.push(itemToPush);\n        });\n      }\n\n    case 'pop':\n      {\n        return produce(currentModel, function (draft) {\n          var lastItem = _last(draft.filter(function (_ref) {\n            var visible = _ref.visible;\n            return !!visible;\n          }));\n\n          if (lastItem) lastItem.visible = false;\n        });\n      }\n\n    default:\n      return currentModel;\n  }\n};\n\nexport default transformStackModel;","map":null,"metadata":{},"sourceType":"module"}