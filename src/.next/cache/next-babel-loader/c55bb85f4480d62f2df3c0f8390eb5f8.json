{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { MemoryBlock } from 'components';\nimport { HASH_TABLE_KEYS_WIDTH, HASH_TABLE_KEYS_HEIGHT } from \"../../constants\";\nimport { AutoTransformGroup } from 'components';\n\nvar KeyList = /*#__PURE__*/function (_Component) {\n  _inherits(KeyList, _Component);\n\n  var _super = _createSuper(KeyList);\n\n  function KeyList(props) {\n    var _this;\n\n    _classCallCheck(this, KeyList);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"initialYCoordinationOfKeys\", void 0);\n\n    _this.initialYCoordinationOfKeys = _this.produceInitialKeyYCoordination();\n    return _this;\n  }\n\n  _createClass(KeyList, [{\n    key: \"produceInitialKeyYCoordination\",\n    value: function produceInitialKeyYCoordination() {\n      var hashTableModel = this.props.hashTableModel;\n      return hashTableModel.keys.reduce(function (acc, _ref, index) {\n        var key = _ref.key;\n        var y = (HASH_TABLE_KEYS_HEIGHT + 10) * index;\n        return _objectSpread({}, acc, _defineProperty({}, key, y));\n      }, {});\n    }\n  }, {\n    key: \"getInitialYCoordinate\",\n    value: function getInitialYCoordinate(key) {\n      var hashTableModel = this.props.hashTableModel;\n      var valueInCache = this.initialYCoordinationOfKeys[key];\n      if (valueInCache != undefined) return valueInCache;\n      var keyIndex = hashTableModel.keys.findIndex(function (_ref2) {\n        var nodeKey = _ref2.key;\n        return key === nodeKey;\n      });\n      var value = (HASH_TABLE_KEYS_HEIGHT + 10) * keyIndex;\n      this.initialYCoordinationOfKeys[key] = value;\n      return value;\n    }\n  }, {\n    key: \"renderListKeyBlock\",\n    value: function renderListKeyBlock() {\n      var _this2 = this;\n\n      var hashTableModel = this.props.hashTableModel;\n      var shouldHighlightKeys = this.getShouldHighlightKeys();\n      return hashTableModel.keys.map(function (_ref3, index) {\n        var key = _ref3.key,\n            isNew = _ref3.isNew;\n        var y = (HASH_TABLE_KEYS_HEIGHT + 10) * index;\n        return __jsx(AutoTransformGroup, {\n          origin: {\n            x: 0,\n            y: y\n          },\n          key: key,\n          className: \"long-transition\"\n        }, __jsx(MemoryBlock, {\n          x: 0,\n          y: _this2.getInitialYCoordinate(key),\n          width: HASH_TABLE_KEYS_WIDTH,\n          height: HASH_TABLE_KEYS_HEIGHT,\n          type: \"rectangle\",\n          value: key,\n          visible: true,\n          isNew: isNew // Highlight one key also means blur every other keys\n          ,\n          blur: shouldHighlightKeys.length ? !shouldHighlightKeys.includes(key) : false\n        }));\n      });\n    }\n  }, {\n    key: \"getShouldHighlightKeys\",\n    value: function getShouldHighlightKeys() {\n      var hashTableModel = this.props.hashTableModel;\n      return hashTableModel.keys.filter(function (_ref4) {\n        var highlight = _ref4.highlight;\n        return highlight;\n      }).map(function (_ref5) {\n        var key = _ref5.key;\n        return key;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"g\", {\n        className: \"hash-table-key-list__wrapper\"\n      }, __jsx(\"text\", {\n        x: HASH_TABLE_KEYS_WIDTH / 2,\n        y: -20,\n        dominantBaseline: \"middle\",\n        textAnchor: \"middle\",\n        className: \"f-big-2 has-transition italic\"\n      }, \"Keys\"), this.renderListKeyBlock());\n    }\n  }]);\n\n  return KeyList;\n}(Component);\n\nexport default KeyList;","map":null,"metadata":{},"sourceType":"module"}